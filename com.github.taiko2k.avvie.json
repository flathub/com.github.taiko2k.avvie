{
   "app-id":"com.github.taiko2k.avvie",
   "runtime":"org.gnome.Platform",
   "runtime-version":"3.34",
   "sdk":"org.gnome.Sdk",
   "command":"run.sh",
   "finish-args":[
      "--share=ipc",
      "--socket=wayland",
      "--socket=fallback-x11",
      "--filesystem=xdg-pictures",
      "--filesystem=xdg-download",
      "--talk-name=org.freedesktop.Notifications"
   ],
   "modules":[
      {
         "name":"avvie-git",
         "buildsystem":"simple",
         "build-commands":[
            "mkdir /app/bin",
            "cp -r * /app/bin/",
            "mkdir -p /app/share/icons/hicolor/scalable/apps",
            "mkdir -p /app/share/icons/hicolor/symbolic/apps",
            "install -D ${FLATPAK_ID}.svg /app/share/icons/hicolor/scalable/apps/${FLATPAK_ID}.svg",
            "install -D ${FLATPAK_ID}-symbolic.svg /app/share/icons/hicolor/symbolic/apps/${FLATPAK_ID}-symbolic.svg",
            "install -D icon128.png /app/share/icons/hicolor/128x128/apps/${FLATPAK_ID}.png",
            "install -D ${FLATPAK_ID}.desktop /app/share/applications/${FLATPAK_ID}.desktop",
            "install -D ${FLATPAK_ID}.appdata.xml /app/share/metainfo/${FLATPAK_ID}.appdata.xml",
            "install -D run.sh /app/bin/run.sh"
         ],
         "sources":[
            {
               "type":"git",
               "url":"https://github.com/Taiko2k/avvie.git",
               "commit":"43d1f91abd6bc268c420df19bb2ff63169bb64af"
            }
         ]
      },
      {
          "name": "python3-pillow",
          "buildsystem": "simple",
          "build-commands": [
              "pip3 install --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} pillow"
          ],
          "sources": [
              {
                  "type": "file",
                  "url": "https://files.pythonhosted.org/packages/51/fe/18125dc680720e4c3086dd3f5f95d80057c41ab98326877fc7d3ff6d0ee5/Pillow-6.1.0.tar.gz",
                  "sha256": "0804f77cb1e9b6dbd37601cee11283bba39a8d44b9ddb053400c58e0c0d7d9de"
              }
          ]
      }
   ]
}
